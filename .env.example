## Example environment file for AgentKS
## Copy this to .env and fill the secrets before running `docker-compose up --build`.

# Public domain for Caddy (e.g. example.com)
DOMAIN=example.com

# Authentik UI host (recommended subdomain for authentik)
AUTH_DOMAIN=auth.example.com

# Authentik image tag (e.g. "2024.3.0" or "latest")
AUTHENTIK_TAG=latest

# Secret key for Authentik (keep secret)
AUTHENTIK_SECRET_KEY=changeme_replace_with_a_strong_secret

# Outpost token used by authentik proxy (keep secret)
AUTHENTIK_OUTPOST_TOKEN=replace_with_outpost_token

# Postgres credentials used by Authentik
AK_POSTGRES_DB=authentik_db
AK_POSTGRES_USER=authentik_user
AK_POSTGRES_PASSWORD=replace_with_db_password

# Redis password used by Authentik
AK_REDIS_PASSWORD=replace_with_redis_password

# OpenWebUI configuration
WEBUI_AUTH=true  # Enable Authentik-based authentication via trusted headers
OPENWEBUI_POSTGRES_DB=openwebui  # Database name for OpenWebUI (optional, defaults to 'openwebui')

# NOTES:
#  - Do NOT commit this file with real secrets. Use it as a template and create a
#    `.env` with secret values (add `.env` to .gitignore).
#  - If you use a local development host (no valid TLS), you may need to adapt
#    Caddy and Authentik settings or run services behind a proper host mapping.
